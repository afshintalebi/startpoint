var DatView=function(){var t,n,e,r,i,a=function(){var t="",n="post",e={},r=function(t){t&&"string"==typeof t&&(n=t)},i=function(){return n},a=function(){return t},o=function(n){n&&"string"==typeof n&&(t=n)},u=function(t,n){e[t]=n},s=function(t){return e[t]},f=function(t){delete e[t]},c=function(r){var i,a=e;a.params=m(),i=window.XMLHttpRequest?new XMLHttpRequest:new ActiveXObject("Microsoft.XMLHTTP"),i.onreadystatechange=function(){if(4==i.readyState&&200==i.status){var t=i.responseText;p.parse(t),v(),r()}},"GET"===n?(i.open("GET",t,P(a)),i.send()):(i.open(n,t),i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send(P(a)))},g=function(){var r=e;r.params=m();var i=document.createElement("form");i.action=t,i.method=n,i.target="_blank";for(var a in r)i.innerHTML+='<input type="hidden" name="'+a+"\" value='"+r[a]+"'>";document.body.appendChild(i),i.submit(),i.parentNode.removeChild(i)},m=function(){var t={page:h.getPage(),order:l.toArray(),filter:d.toArray(),"export":{columns:[],format:"",page:0}};return JSON.stringify(t)},P=function(t){var n="";for(var e in t)n+=e+"="+t[e]+"&";return n.slice(0,-1)};this.setMethod=r,this.getMethod=i,this.setDataSourceURL=o,this.getDataSourceURL=a,this.setParam=u,this.getParam=s,this.removeParam=f,this.send=c,this.download=g},o=function(){var t=[],n="string",e="number",r="date",i="enum",a="boolean",o="string",u="IsEqualTo",s="IsNotEqualTo",f="StartWith",c="DoesNotContains",d="EndsWith",l="Contains",h="In",g="NotIn",p="Between",m="IsGreaterThanOrEqualTo",P="IsGreaterThan",v="IsLessThanOrEqualTo",T="IsLessThan",E="IsAfterThanOrEqualTo",I="IsAfterThan",y="IsBeforeThanOrEqualTo",N="IsBeforeThan",q=function(n,e,r,i,a){var o={name:n,type:e,operator:r,operand1:i,operand2:a};L(n)?(o=L(n),o.name=n,o.type=e,o.operator=r,o.operand1=i,o.operand2=a):t.push(o)},w=function(n){for(var e in t)if(t[e].name===n)return t.splice(e,1),!0;return!1},L=function(n){for(var e in t)if(t[e].name===n)return t[e];return null},S=function(){t=[]},C=function(){return t};this.addEqualString=function(t,e){return t&&e?(q(t,n,u,e,null),!0):!1},this.addNotEqualString=function(t,e){return t&&e?(q(t,n,s,e,null),!0):!1},this.addStartWithString=function(t,e){return t&&e?(q(t,n,f,e,null),!0):!1},this.addDoesNotContainsString=function(t,e){return t&&e?(q(t,n,c,e,null),!0):!1},this.addEndsWithString=function(t,e){return t&&e?(q(t,n,d,e,null),!0):!1},this.addContainsString=function(t,e){return t&&e?(q(t,n,l,e,null),!0):!1},this.addEqualLink=function(t,n){return t&&n?(q(t,o,u,n,null),!0):!1},this.addNotEqualLink=function(t,n){return t&&n?(q(t,o,s,n,null),!0):!1},this.addStartWithLink=function(t,n){return t&&n?(q(t,o,f,n,null),!0):!1},this.addDoesNotContainsLink=function(t,n){return t&&n?(q(t,o,c,n,null),!0):!1},this.addEndsWithLink=function(t,n){return t&&n?(q(t,o,d,n,null),!0):!1},this.addContainsLink=function(t,n){return t&&n?(q(t,o,l,n,null),!0):!1},this.addEqualNumber=function(t,n){return t&&n?(q(t,e,u,n,null),!0):!1},this.addNotEqualNumber=function(t,n){return t&&n?(q(t,e,s,n,null),!0):!1},this.addBetweenNumber=function(t,n,r){return t&&n&&r?(q(t,e,p,n,r),!0):!1},this.addGreaterThanOrEqualNumber=function(t,n){return t&&n?(q(t,e,m,n,null),!0):!1},this.addGreaterThanNumber=function(t,n){return t&&n?(q(t,e,P,n,null),!0):!1},this.addLessThanOrEqualNumber=function(t,n){return t&&n?(q(t,e,v,n,null),!0):!1},this.addLessThanNumber=function(t,n){return t&&n?(q(t,e,T,n,null),!0):!1},this.addEqualDate=function(t,n){return t&&n?(q(t,r,u,n,null),!0):!1},this.addNotEqualDate=function(t,n){return t&&n?(q(t,r,s,n,null),!0):!1},this.addBetweenDate=function(t,n,e){return t&&n&&e?(q(t,r,p,n,e),!0):!1},this.addAfterThanOrEqualDate=function(t,n){return t&&n?(q(t,r,E,n,null),!0):!1},this.addAfterThanDate=function(t,n){return t&&n?(q(t,r,I,n,null),!0):!1},this.addBeforeThanOrEqualDate=function(t,n){return t&&n?(q(t,r,y,n,null),!0):!1},this.addBeforeThanDate=function(t,n){return t&&n?(q(t,r,N,n,null),!0):!1},this.addInItems=function(t,n){return t&&n?(q(t,i,h,n,null),!0):!1},this.addNotInItems=function(t,n){return t&&n?(q(t,i,g,n,null),!0):!1},this.addIsBoolean=function(t,n){return t&&n?(q(t,a,u,n,null),!0):!1},this.addIsNotBoolean=function(t,n){return t&&n?(q(t,a,s,n,null),!0):!1},this.remove=w,this.clear=S,this.find=L,this.toArray=C},u=function(){var t=[],n="ASC",e="DESC",r=function(n,e){var r={name:n,type:e};a(n)?(r=a(n),r.name=n,r.type=e):t.push(r)},i=function(n){for(var e in t)if(t[e].name===n)return t.splice(e,1),!0;return!1},a=function(n){for(var e in t)if(t[e].name===n)return t[e];return null},o=function(t){var r=a(t);return null===r?!1:void(r.type===n?r.type=e:r.type=n)},u=function(){t=[]},s=function(){return t};this.addAscending=function(t){return t?(r(t,n),!0):!1},this.addDescending=function(t){return t?(r(t,e),!0):!1},this.remove=i,this.clear=u,this.find=a,this.swap=o,this.toArray=s},s=function(){var t={currentPage:1,lastPage:1,perPage:2,total:0,from:1,count:0},n=function(n){n&&parseInt(n)>0&&(t.currentPage=n,n>t.lastPage&&(t.currentPage=t.lastPage))},e=function(){t.currentPage<t.lastPage&&t.currentPage++},r=function(){t.currentPage>1&&t.currentPage--},i=function(){t.currentPage=1},a=function(){t.currentPage=t.lastPage},o=function(n){n&&parseInt(n)>0&&(t.perPage=n)},u=function(){return t.perPage},s=function(){return t.currentPage},f=function(e,r,i,a,o,u){n(e),r=parseInt(r),i=parseInt(i),a=parseInt(a),o=parseInt(o),u=parseInt(u),t.lastPage=r&&r>0?r:t.lastPage,t.perPage=i&&i>0?i:t.perPage,t.total=a&&a>=0?a:t.total,t.from=o&&o>0?o:t.from,t.count=u&&u>=0?u:t.count},c=function(){return t};this.gotoPage=n,this.gotoNextPage=e,this.gotoPreviousPage=r,this.gotoFirstPage=i,this.gotoLastPage=a,this.setPerPage=o,this.getPerPage=u,this.getCurrentPage=s,this.setPage=f,this.getPage=c},f=function(){var r=null,i="",a=[],o=function(t){r="string"==typeof t?document.querySelector(t):t},u=function(){return r},s=function(t){i=t},f=function(t,n){var e;for(var r in t)e=new RegExp("%"+r+"%","g"),n=n.replace(e,t[r]);return n},c=function(o){if(a=o,e)e(o,r,i,t,n);else{var u,s,c,d=i,l="";r.innerHTML="";for(var h in a){if(s=a[h],t){var g=t(s,d);g&&(d=g)}if(l=f(s,d),u=document.createElement("div"),u.innerHTML=l,c=u.childNodes,n){var g=n(s,c);g&&(c=g)}if(1===c.length)r.appendChild(c.item(0));else for(var h=0,p=c.length;p>h;h++)r.appendChild(c.item(0))}}P()};this.setContainer=o,this.getContainer=u,this.setItemTemplate=s,this.render=c},c=function(){var t={},n=function(n,e){n&&e&&(t[n]=e)},e=function(n){return t[n]?t[n]:null},r=function(t){var e;if("string"==typeof t)try{if(e=JSON.parse(t))for(var r in e)n(r,e[r])}catch(i){return void console.log(i)}};this.parse=r,this.find=e},d=new o,l=new u,h=new s,g=new a,p=new c,m=new f,P=function(){r&&r()},v=function(){i&&i()};this.filter=d,this.order=l,this.paginate=h,this.dataSourceURL=function(t){return t&&g.setDataSourceURL(t),g.getDataSourceURL()},this.method=function(t){return t&&g.setMethod(t.toUpperCase()),g.getMethod()},this.send=function(t){g.send(function(){if(t&&t("Receive Data"),p.find("data")&&m.render(p.find("data")),p.find("page")){var n=p.find("page");h.setPage(n.currentPage,n.lastPage,n.perPage,n.total,n.from,n.count)}t&&t("Render Done")})},this.download=g.download,this.container=function(t){return t?void m.setContainer(t):m.getContainer()},this.itemTemplate=function(t){t&&m.setItemTemplate(t)},this.addParam=function(t,n){g.setParam(t,n)},this.getParam=function(t){g.getParam(t)},this.removeParam=function(t){g.removeParam(t)},this.getResponse=p.find,this.beforeRender=function(n){t=n},this.afterRender=function(t){n=t},this.overrideRender=function(t){e="function"==typeof t?t:void 0},Object.defineProperty(this,"onload",{set:function(t){r=t},get:function(){return r}}),Object.defineProperty(this,"onreceive",{set:function(t){i=t},get:function(){return i}})};